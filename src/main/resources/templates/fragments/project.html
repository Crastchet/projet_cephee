<!DOCTYPE html>
<html>
<head>
<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"/>
    <link type="text/css" rel="stylesheet" href="css/materialize.min.css"  media="screen,projection"/>
    <link type="text/css" rel="stylesheet" href="css/style.css"  media="screen,projection"/>
<meta charset="UTF-8"/>
<title>Insert title here</title>
</head>
<body>

	<!-- projet court -->
	<div th:fragment="project">
	
	<style>
				.white-text-court {
					height: 150px;
				}
				.black-text-court {
					height: 250px;
				}
				h3 {
					white-space : nowrap;
					overflow: hidden;
					text-overflow: ellipsis;
					font-size: 35px;
				}
			</style>
			
		<div class="card teal lighten-3" th:if="${item.class.name == 'fr.cephee.unilille.model.PublicationProject'}">
			
			<div class="card-content white-text white-text-court">
				<span style="font-size: 20px; float: right;"
					th:if="${item.class.name == 'fr.cephee.unilille.model.PublicationEvent'}" th:text="#{publi.event}"></span>
				<span style="font-size: 20px; float: right;"
					th:if="${item.class.name == 'fr.cephee.unilille.model.PublicationProject'}" th:text="#{publi.proj}"></span>
				<span style="font-size: 20px; float: right;"
					th:if="${item.class.name == 'fr.cephee.unilille.model.PublicationAnnonce'}" th:text="#{publi.anno}"></span>
				<h3 th:text="${item.title}"></h3>

				<span style="font-size: 20px;"
					th:text="#{publi.auteurCrea} + ${item.author.displayname}"></span> <span
					style="font-size: 20px; float: right;"
					th:text="#{publi.dateCrea} + ${#dates.format(item.dateCreation, 'dd-MM-yyyy')}"></span> <br></br>
			</div>

			<!-- Projets -->
			<div class="card-content black-text black-text-court" style="background-color: white;"
				th:if="${item.class.name == 'fr.cephee.unilille.model.PublicationProject'}">
				<!-- <i class="material-icons">school</i> <span
					th:text="'Competences requises: '"></span>
					<ul>
					<th:block th:object="${item}"
						th:each="it : ${item.listcompetence}">
						<li th:text="${it.title}">Item description here...</li>
					</th:block>
				</ul> -->

				<h5 th:text="#{publi.descr}"></h5>
				<p th:text="${item.content}"></p>
			</div>

			<div class="card-action" style="background-color: white;">
			<!-- <a
				th:if="${item.class.name == 'fr.cephee.unilille.model.PublicationEvent'}"
				th:text="'Je participe'"></a>  --><a
				th:href="@{/seedetailspublication(id=${item.id})}" th:text="#{publi.voir}"></a>
				<a th:text="#{publi.report}"></a>
			</div>
			
		</div>
	</div>
		
	
	<!-- projet long -->
	<div th:fragment="projectLong">
		
		<div class="card teal lighten-3" th:if="${item.class.name == 'fr.cephee.unilille.model.PublicationProject'}">
				
			<div class="card-content white-text">
				<span style="font-size: 20px; float: right;"
					th:if="${item.class.name == 'fr.cephee.unilille.model.PublicationEvent'}" th:text="#{publi.event}"></span>
				<span style="font-size: 20px; float: right;"
					th:if="${item.class.name == 'fr.cephee.unilille.model.PublicationProject'}" th:text="#{publi.proj}"></span>
				<span style="font-size: 20px; float: right;"
					th:if="${item.class.name == 'fr.cephee.unilille.model.PublicationAnnonce'}" th:text="#{publi.anno}"></span>
				<h3 th:text="${item.title}"></h3>
		
				<span style="font-size: 20px;">
					<a th:href="@{/profile(displayname=${item.author.displayname})}" th:text="#{publi.auteurCrea} + ${item.author.displayname}"></a>
				</span>
				<span style="font-size: 20px; float: right;"
					th:text="#{publi.dateCrea} + ${#dates.format(item.dateCreation, 'dd-MM-yyyy')}"></span> <br></br>
				<i class="material-icons">school</i>
				<span th:text="'CatÃ©gories : '"></span>
				<ul>
					<th:block th:object="${item}"
						th:each="it : ${item.category}">
								<li th:text="${it.title}"></li>
					</th:block>
				</ul>
			</div>
			<div style="background-color: white;">
		
				<!-- Projets -->
				<div class="card-content black-text"
					th:if="${item.class.name == 'fr.cephee.unilille.model.PublicationProject'}">
					<i class="material-icons">school</i>
					<span th:text="#{publi.comp}"></span>
					<ul>
						<th:block th:object="${item}"
							th:each="it : ${item.listcompetence}">
							<li th:text="${it.title}">Item description here...</li>
						</th:block>
					</ul>
					<br></br> <br></br>
	
					<h5 th:text="#{publi.descr}"></h5>
					<p th:text="${item.content}"></p>
				</div>
		
			</div>
		
			<div class="card-action" style="background-color: white;">
				<a th:href="@{/seedetailspublication(id=${item.id})}" th:text="#{publi.voir}"></a>
				<!-- ModalReport Trigger -->
				<a href="#modalReport" th:text="#{publi.report}"></a>
			</div>
						
			<!-- ModalReport Structure -->
			<div id="modalReport" class="modal">
				<div class="modal-content" style="background-color: white;">
					<form class="col s12" action="#" th:action="@{/report(publicationid=${item.id})}" th:object="${reportForm}" method="post"
						style="background-color: white; clear: both; margin-bottom: 20px;">
						<p>
							<goodvibes style="font-size: 30px">Votre signalement :</goodvibes>
						</p>

						<label for="title">Titre :</label>
						<input id="title" name="title" type="text"></input> 
						<label for="content" th:text="'Description : '"></label>
						<textarea class="materialize-textarea" data-length="500" id="content" name="content"></textarea>

						<button	class="btn waves-effect waves-light" id="buttonSendReport" th:text="#{publi.report}" type="submit" name="action">
							<i class="material-icons right">send</i>
						</button>
					</form>
				</div>
			</div>
				
		</div>
	
	</div>

</body>
</html>